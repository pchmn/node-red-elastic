<script type="text/x-red" data-template-name="elastic">
    <div class="form-row">
        <label for="node-input-host"><i class="fa fa-tag"></i> Host</label>
        <input type="text" id="node-input-host" placeholder="Host">
    </div>
    <div class="form-row">
        <label for="node-input-documentIndex"><i class="fa fa-book"></i> Index</label>
        <input type="text" id="node-input-documentIndex" placeholder="Index">
    </div>
    <div class="form-row">
        <label for="node-input-documentType"><i class="fa fa-file"></i> Type</label>
        <input type="text" id="node-input-documentType" placeholder="Type">
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('elastic',{
        category: 'function',
        color: '#A6BBCF',
        defaults: {
            host: {value:"localhost:9200"},
            documentIndex: {value: ""},
            documentType: {value: ""}
        },
        inputs:1,
        outputs:1,
        icon: "function.png",
        label: function() {
            return this.name || "elastic";
        }
    });
</script>

<script type="text/x-red" data-help-name="elastic">
    <p>A simple node that convert any data in a generic format.</p>
    <p>From a post request, you must specify a <code>X-Data-Type</code> header that represents the type of data you're sending :</p>
    <ul>
        <li><code>OPEN_DATA_WIFI</code> : <a href="https://opendata.paris.fr/explore/dataset/utilisations_mensuelles_des_hotspots_paris_wi-fi/">Utilisations des hotspots Paris Wi-Fi</a></li>
    </ul>
    <p>In the body of the request you put your data in a JSON format.</p>
    <p>The output of the node will be your data converted in a generic format like this :</p>
    <pre>
        <code>
{
    "header": {
        "version": "1.2",
        "commandclass": "ALLOW_ACCESS",
        "id": "002",
        "attributes": [{
            "key": "type",
            "value": "borne"
        }]
    },
    "data": {
        "action": "set",
        "informationmap": [{
            "key": "duration",
            "value": "1"
        }, {
            "key": "allow",
            "value": "true"
        }]
    }
}
        </code>
    </pre>
</script>